port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: silent
external-controller: 0.0.0.0:9090
unified-delay: true
profile:
  store-selected: true
  store-fake-ip: true
dns:
  enable: true
  enhanced-mode: fake-ip
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  fallback:
    - https://8.8.8.8/dns-query
    - https://1.1.1.1/dns-query
    - https://9.9.9.9/dns-query
proxy-groups:
- name: 🚀 节点选择
  type: select
  proxies:
  - 🇭🇰 香港节点
  - 🇨🇳 台湾节点
  - 🇸🇬 狮城节点
  - 🇯🇵 日本节点
  - 🇺🇲 美国节点
  - 🇰🇷 韩国节点
  - 🚀 手动切换
  - ☯️ 故障转移
  - DIRECT
- name: ☯️ 故障转移
  type: fallback
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
  url: https://www.gstatic.com/generate_204
  interval: '180'
  filter: "(新加坡|Singapore|SG|台湾|Taiwan|TW|香港|HK|Hong Kong|韩国|日本|Japan)"
- name: 🎮 游戏人间
  type: select
  proxies:
  - ☯️ 故障转移
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
- name: 💼 勤勤恳恳
  type: select
  proxies:
  - ☯️ 故障转移
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
- name: 🤖 人工智障
  type: select
  proxies:
  - ☯️ 故障转移
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
- name: 🎶 TikTok
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
- name: 🚀 手动切换
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
- name: 📲 电报消息
  type: select
  proxies:
  - 🚀 节点选择
  - 🇸🇬 狮城节点
  - 🇭🇰 香港节点
  - 🇨🇳 台湾节点
  - 🇯🇵 日本节点
  - 🇺🇲 美国节点
  - 🇰🇷 韩国节点
  - 🚀 手动切换
  - DIRECT
- name: 🎥 奈飞视频
  type: select
  proxies:
  - 🚀 手动切换
  use:
  - WgetCloud
- name: 🎥 Disney
  type: select
  proxies:
  - 🚀 手动切换
  use:
  - WgetCloud
- name: 📺 哔哩哔哩
  type: select
  proxies:
  - 🎯 全球直连
  use:
  - WgetCloud
  filter: "(台|新北|彰化|TW|Taiwan|港|HK|Hong Kong)"
- name: Ⓜ️ 微软服务
  type: select
  proxies:
  - DIRECT
  - 🚀 节点选择
  - 🇺🇲 美国节点
  - 🇭🇰 香港节点
  - 🇨🇳 台湾节点
  - 🇸🇬 狮城节点
  - 🇯🇵 日本节点
  - 🇰🇷 韩国节点
  - 🚀 手动切换
- name: 🍎 苹果服务
  type: select
  proxies:
  - DIRECT
  - 🚀 节点选择
  - 🇺🇲 美国节点
  - 🇭🇰 香港节点
  - 🇨🇳 台湾节点
  - 🇸🇬 狮城节点
  - 🇯🇵 日本节点
  - 🇰🇷 韩国节点
  - 🚀 手动切换
- name: 🎮 游戏平台
  type: select
  proxies:
  - DIRECT
  - 🚀 节点选择
  - 🇺🇲 美国节点
  - 🇭🇰 香港节点
  - 🇨🇳 台湾节点
  - 🇸🇬 狮城节点
  - 🇯🇵 日本节点
  - 🇰🇷 韩国节点
  - 🚀 手动切换
- name: 🎯 全球直连
  type: select
  proxies:
  - DIRECT
  - 🚀 节点选择
- name: 🐟 漏网之鱼
  type: select
  proxies:
  - 🚀 节点选择
  - DIRECT
  - 🇭🇰 香港节点
  - 🇨🇳 台湾节点
  - 🇸🇬 狮城节点
  - 🇯🇵 日本节点
  - 🇺🇲 美国节点
  - 🇰🇷 韩国节点
  - 🚀 手动切换
- name: 🇭🇰 香港节点
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
  filter: "(港|HK|Hong Kong)"
- name: 🇯🇵 日本节点
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
  filter: "(日本|川日|东京|大阪|泉日|埼玉|沪日|深日|[^-]日|JP|Japan)"
- name: 🇺🇲 美国节点
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
  filter: "(美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|US|United States)"
- name: 🇸🇬 狮城节点
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
  filter: "(新加坡|坡|狮城|SG|Singapore)"
- name: 🇨🇳 台湾节点
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
  filter: "(台|新北|彰化|TW|Taiwan)"
- name: 🇰🇷 韩国节点
  type: select
  use:
  - WgetCloud
  - 橘色云
  - Miaona!
  - 极速
  filter: "(KR|Korea|KOR|首尔|韩|韓)"
rule-providers:
  fakeip-filter:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/fakeip-filter.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/fakeip-filter.mrs"
    interval: 86400

  applications:
    type: http
    behavior: classical
    format: text
    path: ./rules/applications.list
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/applications.list"
    interval: 86400

  private:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/private.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/private.mrs"
    interval: 86400

  ads:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/ads.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/ads.mrs"
    interval: 86400

  microsoft-cn:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/microsoft-cn.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/microsoft-cn.mrs"
    interval: 86400

  apple-cn:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/apple-cn.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/apple-cn.mrs"
    interval: 86400

  google-cn:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/google-cn.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/google-cn.mrs"
    interval: 86400

  games-cn:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/games-cn.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/games-cn.mrs"
    interval: 86400

  netflix:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/netflix.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/netflix.mrs"
    interval: 86400

  disney:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/disney.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/disney.mrs"
    interval: 86400

  max:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/max.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/max.mrs"
    interval: 86400

  primevideo:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/primevideo.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/primevideo.mrs"
    interval: 86400

  appletv:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/appletv.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/appletv.mrs"
    interval: 86400

  youtube:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/youtube.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/youtube.mrs"
    interval: 86400

  tiktok:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/tiktok.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/tiktok.mrs"
    interval: 86400

  bilibili:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/bilibili.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/bilibili.mrs"
    interval: 86400

  ai:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/ai.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/ai.mrs"
    interval: 86400

  networktest:
    type: http
    behavior: classical
    format: text
    path: ./rules/networktest.list
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/networktest.list"
    interval: 86400

  proxy:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/proxy.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/proxy.mrs"
    interval: 86400

  cn:
    type: http
    behavior: domain
    format: mrs
    path: ./rules/cn.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/cn.mrs"
    interval: 86400

  netflixip:
    type: http
    behavior: ipcidr
    format: mrs
    path: ./rules/netflixip.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/netflixip.mrs"
    interval: 86400

  telegramip:
    type: http
    behavior: ipcidr
    format: mrs
    path: ./rules/telegramip.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/telegramip.mrs"
    interval: 86400

  privateip:
    type: http
    behavior: ipcidr
    format: mrs
    path: ./rules/privateip.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/privateip.mrs"
    interval: 86400

  cnip:
    type: http
    behavior: ipcidr
    format: mrs
    path: ./rules/cnip.mrs
    url: "https://github.com/DustinWin/ruleset_geodata/releases/download/clash-ruleset/cnip.mrs"
    interval: 86400
script:
  shortcuts: # 可以在 rule 中引用
    quic: network == 'udp' and dst_port == 443 # 匹配 QUIC 协议
    udp-cn: network == 'udp' and geoip(dst_ip if dst_ip != '' else resolve_ip(host)) == 'CN' # 匹配发往 CN 的 UDP
    instagram-quic: network == 'udp' and dst_port == 443 and match_geosite('instagram') # 匹配 Instagram 的 QUIC
rules:
- SCRIPT,quic,REJECT,no-track
- RULE-SET,ai,🤖 人工智障
- RULE-SET,microsoft-cn,Ⓜ️ 微软服务
- RULE-SET,max,🚀 节点选择
- RULE-SET,bilibili,📺 哔哩哔哩
- RULE-SET,tiktok,🎶 TikTok
- RULE-SET,disney,🎥 Disney
- RULE-SET,games-cn,🎮 游戏平台
- RULE-SET,netflix,🎥 奈飞视频
- RULE-SET,apple-cn,🍎 苹果服务
- RULE-SET,google-cn,🚀 节点选择
- RULE-SET,private,DIRECT
- RULE-SET,proxy,🚀 节点选择
- RULE-SET,cn,🎯 全球直连
- RULE-SET,telegramip,📲 电报消息
- RULE-SET,netflixip,🎥 奈飞视频
- RULE-SET,privateip,DIRECT
- RULE-SET,cnip,🎯 全球直连
- MATCH,🐟 漏网之鱼
proxy-providers:
  WgetCloud:
    override:
      additional-suffix: "『❤Wget』"
    type: http
    url: http://jia.hdrly.top:25500/sub?target=clash&url=https%3A%2F%2Fbava8u2znaj6bdzzjnfb.wgetcloud.online%2Flink%2Fcf5bc2b8-312b-3dad-9173-913b62be59d2%3Fsimple%3D1&config=https%3A%2F%2Fraw.githubusercontent.com%2Fhelp-eeeee%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online_Full_NoAuto.ini&emoji=true&udp=true&sort=false&scv=true&list=true
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 360
  橘色云:
    override:
      additional-suffix: "『🧡橘色云』"
    type: http
    url: https://sub1.haiqilai.lol/api/v1/client/subscribe?token=ed55326225ddf7745eb3c79290ca548f
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 360
  Miaona!:
    override:
      additional-suffix: "『💛Miaona!』"
    type: http
    url: https://miaona.org/api/v1/client/subscribe?token=b1d360cab0dd6185bdb53aed17471a10
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 360
  极速:
    override:
      additional-suffix: "『💚Mitce』"
    type: http
    url: https://app.mitce.com/?sid=172982&token=srvznue
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 360
